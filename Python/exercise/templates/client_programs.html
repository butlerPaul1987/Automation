{% extends "base.html" %}
{% block content %}
<div class="nav-tabs">
    <a href="{{ url_for('client_dashboard') }}" class="nav-tab">Dashboard</a>
    <a href="{{ url_for('client_programs') }}" class="nav-tab active">My Programs</a>
    <a href="{{ url_for('client_workouts') }}" class="nav-tab">Workout History</a>
    <a href="{{ url_for('messages') }}" class="nav-tab">Contact Coach</a>
</div>

<div class="card">
    <h3 class="card-header">My Training Programs</h3>
    {% if assignments %}
    {% for assignment in assignments %}
    <div class="program-item">
        <div class="workout-header">
            <div>
                <div class="workout-name">{{ assignment.program.name }}</div>
                <div style="color:#999;font-size:.9em">{{ assignment.program.description }}</div>
                <div style="color:#999;font-size:.85em;margin-top:5px">Started: {{ assignment.start_date.strftime('%d %b %Y') }}</div>
            </div>
        </div>
        <div style="margin-top:15px">
            <strong style="color:#d1312c">Weekly Schedule:</strong>
            <ul class="exercise-list" style="margin-top:10px">
                {% for workout in assignment.program.workouts.order_by('day_number') %}
                <li class="exercise-list-item">
                    <div>
                        <strong>Day {{ workout.day_number }}: {{ workout.name }}</strong>
                        <div style="color:#999;font-size:.85em;margin-top:5px">{{ workout.exercises.count() }} exercises</div>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="empty-state">
        <p>No programs assigned yet. Your coach will assign a program soon!</p>
    </div>
    {% endif %}
</div>
{% endblock %}